-- MySQL Script generated by MySQL Workbench
-- mar 18 jun 2019 21:21:50 -03
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema jfb_virtualmind
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema jfb_virtualmind
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `jfb_virtualmind` DEFAULT CHARACTER SET utf8 ;

-- -----------------------------------------------------
-- Table `jfb_virtualmind`.`authors`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `jfb_virtualmind`.`authors` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `jfb_virtualmind`.`articles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `jfb_virtualmind`.`articles` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(1000) NOT NULL,
  `short_description` TINYTEXT NOT NULL,
  `long_description` LONGTEXT NOT NULL,
  `updated_at` DATETIME NULL,
  `created_at` DATETIME NOT NULL,
  `deleted_at` DATETIME NULL,
  `authors_ids` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `jfb_virtualmind`.`authors_has_articles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `jfb_virtualmind`.`authors_has_articles` (
  `author_id` INT NOT NULL,
  `article_id` INT NOT NULL,
  PRIMARY KEY (`author_id`, `article_id`),
  INDEX `fk_authors_has_articles_articles1_idx` (`article_id` ASC),
  INDEX `fk_authors_has_articles_authors_idx` (`author_id` ASC),
  CONSTRAINT `fk_authors_has_articles_authors`
    FOREIGN KEY (`author_id`)
    REFERENCES `jfb_virtualmind`.`authors` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_authors_has_articles_articles1`
    FOREIGN KEY (`article_id`)
    REFERENCES `jfb_virtualmind`.`articles` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



------ INSERTS   -------



-- Authors

INSERT INTO `jfb_virtualmind`.`authors`
	(`name`)
VALUES
	('Agustin Creevy');

INSERT INTO `jfb_virtualmind`.`authors`
	(`name`)
VALUES
	('Tomás Cubelli');

INSERT INTO `jfb_virtualmind`.`authors`
	(`name`)
VALUES
	('Marcos Kremer');

-- Articles
INSERT INTO `jfb_virtualmind`.`articles`
(`title`,
`short_description`,
`long_description`,
`updated_at`,
`created_at`,
`deleted_at`,
`authors_ids`)
VALUES
('El boletín de la selección argentina: la jerarquía en ofensiva y el ingreso de Acuña, los puntos altos en el triunfo ante Qatar',
'Lautaro Martínez, De Paul y el ingresado Acuña, los futbolistas de rendimiento más regular en la victoria 2-0 del combinado nacional, que logró la clasificación a los cuartos de final de Brasil 2019',
'<p><strong>Argentina</strong> logró quitarse la mochila de la presión: cuando los fantasmas de una posible eliminación rodeaban a la Selección, afloró la jerarquía (sobre todo de los hombres de mitad de cancha hacia adelante) y <a href="https://www.infobae.com/deportes-2/copa-america-2019/2019/06/23/la-seleccion-argentina-se-juega-la-clasificacion-a-cuartos-de-final-ante-qatar-hora-tv-y-formaciones/">le ganó 2-0 a <strong>Qatar</strong></a>, gracias a los goles de <strong>Lautaro Martínez y Sergio Agüero</strong>. Así, el combinado nacional se medirá el vienres frente a Venezuela, por los cuartos de final de la<strong> Copa América</strong>.</p><p><strong>Franco Armani (6):</strong> aunque lo exigieron poco, brindó seguridad y tapó la más clara de Qatar, el globo que intentó el 10 Al Haydos, jugada que luego fue anulada por fuera de juego.</p><p><strong>Renzo Saravia (5):</strong> en los primeros minutos, cuando jugó liberado, fue su mejor momento en su pasaje al ataque. Volvió a incursionar en ofensiva en la segunda parte. En la marca, con altibajos.</p><p><strong>Juan Foyth (5):</strong> le sobra técnica, pero a veces padece el exceso de confianza. en una mala salida casi le regala el gol a Qatar. Fue amonestado y cometió dos faltas infantiles que le ofreció tiros libres riesgosos al adversario.</p><p><strong>Nicolás Otamendi (6):</strong> se perdió un gol en la boca del arco, pero se mostró firme de arriba y de abajo. Las desprolijidades surgieron a la hora de salir con pelota dominada, un tema a revisar en la Selección.</p><p><strong>Nicolás Tagliafico (5):</strong> se complicó en algunas salidas y con la proyección de Abdelaziz Hatim, sobre todo cuando superó la barrera que le proponía Lo Celso. Con el ingreso de Acuña, se liberó.</p><p><strong>Rodrigo De Paul (7):</strong> volcado sobre la izquierda, se cerró para ofrecerle pase a Messi. Preciso e inquieto, a pesar de no estar acostumbrado, realizó el extenuante ida y vuelta de un carrilero.</p><p><strong>Leandro Paredes (6):</strong> fue el futbolista más retrasado de un mediocampo que se ubicó en territorio adversario, se esforzó en la marca y buscó ser la primera puntada del equipo. Cuando salió limpio, Argentina mostró su mejor versión.</p><p><strong>Giovani Lo Celso (4):</strong> se ofreció como socio de Messi y también aportó en la presión, ante la cantidad de futbolistas de manejo que acumuló Scaloni. Sin embargo, a sus espaldas, Abdelaziz Hatim supo lastimar. Y el desgaste le restó brillo.</p><p><strong>Lionel Messi (6):</strong> desde el gesto de saludar uno a uno a sus compañeros en la previa del partido exhibió disposición de líder. No brillo, pero bajó a hacerse del balón en el rol de armador, le regaló una asistencia a Agüero y buscó desequilibrar en el mano a mano. Erró un remate desde adentro del área impropio para su talento.</p><p><strong>Sergio Agüero (6):</strong> Lideró el pressing junto a Lautaro Martínez para liberar a Messi. Falló un mano a mano en el primer tiempo tras cesión de la "Pulga", mostró movilidad y buscó meterse en el sistema de armado. Tuvo varias situaciones de gol en la etapa final; se redimió a nueve minutos del epílogo con el remate ajustado y cruzado que provocó el desahogo de Argentina.</p><p><strong>Lautaro Martínez (7):</strong> a los 3 minutos, demostró por qué no debió haber salido frente a Venezuela; olfateó el error de Bassam y abrió el marcador. Luego, inquietó, empujó y se sacrificó para marcar la salida. Jugó muy bien de espaldas; Scaloni lo reemplazó por Dybala cuando no se lo notaba cansado, aunque venía arrastrando el traumatismo en el glúteo.</p><p><strong>Marcos Acuña (7):</strong> muy interesante ingreso del "Huevo" en su posición natural (en el ciclo anterior como en este se obstinaron en emplearlo como lateral). Cerró el carril izquierdo, el preferido de Qatar para atacar en el primer tiempo, y atacó el vacío permanentemente.</p><p><strong>Paulo Dybala (6):</strong> buena entrada del hombre de la Juventus para usufructuar el cansancio de los qataríes. se asoció, tuvo desequilibrio individual y participó de varias jugadas en ofensiva.</p><p><strong>Germán Pezzella:</strong> entró sobre el final, para asegurar el score.</p><p><strong>Lionel Scaloni (6):</strong> acertó al fin en juntar los pies sensibles en ofensiva, a partir de los beneficios que le habían reportado en el inicio de la segunda etapa frente a Paraguay. Le quedó como deuda buscar mayor equilibrio en el retroceso: ante un rival de otros quilates, los espacios que ofreció en la primera etapa, los pagará. Otro punto a favor: el ingreso de Acuña por Lo Celso.</p>',
null,
NOW(),
null,
'1, 2');


INSERT INTO `jfb_virtualmind`.`articles`
(`title`,
`short_description`,
`long_description`,
`updated_at`,
`created_at`,
`deleted_at`,
`authors_ids`)
VALUES
('Venezuela será el rival de Argentina en la próxima ronda de la Copa América',
'Los dirigidos por Lionel Scaloni vencieron a los asiáticos y como Paraguay no logró superar a Colombia, Argentina se clasificó como segunda de su zona. Conocé rival, día y hora para la segunda fase',
'<p>Ya el sábado por la tarde con la goleada de Brasil sobre Perú,&nbsp;la <strong>Selección</strong>&nbsp;había recibido&nbsp;un guiño que dejó más cerca de&nbsp;la clasificación a los cuartos de final de la<strong> Copa America 2019.&nbsp;</strong>Claro que con esta <a href="https://www.infobae.com/deportes-2/copa-america-2019/2019/06/23/la-seleccion-argentina-se-juega-la-clasificacion-a-cuartos-de-final-ante-qatar-hora-tv-y-formaciones/">victoria por 2-0 ante Qatar</a>, el equipo <i>Albiceleste</i>&nbsp;selló&nbsp;su pase a la siguiente ronda del certamen.</p><p><strong>Colombia,</strong> que <a href="https://www.infobae.com/deportes-2/copa-america-2019/2019/06/23/paraguay-colombia-grupo-b-copa-america/">superó por la mínima a Paraguay</a>, finalizó la zona con <strong>9 unidades</strong>, <strong>Argentina</strong> lo siguió con <strong>4</strong> y los guaraníes con 3. De esta manera, el conjunto nacional no solo se aseguró su boleto a la segunda fase, sino que también&nbsp;definió a su próximo rival:<strong>&nbsp;se medirá ante Venezuela</strong> este viernes 28 de junio, a las 16, en el <i>Estadio Maracaná</i>de Río de Janeiro.</p><p>Con el<a href="https://www.infobae.com/deportes-2/copa-america-2019/2019/06/22/brasil-peru-grupo-a-copa-america-2019/">&nbsp;5-0 </a>del Scratch sobre el equipo dirigido por Ricardo Gareca&nbsp;y la victoria de <a href="https://www.infobae.com/deportes-2/copa-america-2019/2019/06/22/bolivia-venezuela-copa-america-grupo-a-fecha-3-belo-horizonte/">Venezuela 3-1 ante Bolivia</a>, quedaron definidas las posiciones del Grupo A. La Verdeamarela se quedó con el primer lugar (con 7 puntos), seguida por la Vinotinto (5) y tercero terminó Perú (4).</p><p>La <i><strong>Vinotinto</strong></i> tuvo un papel más que satisfactorio en su grupo: igualó los dos primeros encuentros sin goles, el primero ante Perú en el <i>Arena do Gremio</i> y luego con Brasil en el <i>Arena Fonte Nova</i>; mientras que luego superó ampliamente a los bolivianos para obtener la clasificación.</p><p>Claro que el pase de los caribeños a la segunda fase no es sorpresa ya que hace años se encuentra bajo un proyecto a cargo de <strong>Rafael Dudamel.</strong></p><p>El ex arquero de <strong>46 años</strong> fue entrenador del seleccionado <strong>Sub 17</strong> entre 2012 y 2013. Tras un breve paso al mando de Deportivo Lara, el <i><strong>Chamo</strong></i> volvió a las juveniles venezolanas en 2015 al hacerse cargo de la <strong>Sub 20</strong>. Dos años después recaló en la <strong>Mayor</strong> y viene obteniendo buenos resultados.</p><p>Precisamente, una de sus victorias más resonantes fue ante <strong>Argentina</strong> en un amistoso disputado el <strong>22 de marzo</strong> de este año en Madrid. En el <i>Wanda Metropolitano</i>, el elenco bordó <a href="https://www.infobae.com/deportes-2/2019/03/22/resumen-seleccion-argentina-venezuela-amistoso-madrid/">se despachó con un <strong>3-1</strong> </a>a su favor ante una <i><strong>Albiceleste</strong></i> que tenía entre sus titulares nada menos que a <strong>Lionel Messi.</strong></p><p>Sin embargo, el historial marca una gran superioridad de la Selección sobre su par venezolano. En total<strong> se enfrentaron 24 veces</strong>, con<strong> 20 triunfos para Argentina</strong>, dos empates y <strong>dos victorias de la </strong><i><strong>Vinotinto.</strong></i></p><p>El <strong>último cotejo por Copa América</strong> fue en la última edición del Centenario disputada en Estados Unidos, justamente por los cuartos de final. Aquel 18 de junio de 2016, <strong>el combinado nacional aplastó por 4-1</strong> a su adversario con un doblete de Gonzalo Higuaín, un tanto de Messi y otro de Erik Lamela.</p><p>Quien resulte vencedor de este cruce avanzará a las semifinales y tendrá como adversario al ganador del choque entre Brasil y Paraguay o Japón/Ecuador (quien termine clasificando como mejor tercero).</p><p><strong>Cruces 4tos de final:</strong></p><p>Brasil vs 3° Grupo B/C<br>Jueves 27/6 – 21.30</p><p>Venezuela vs&nbsp;Argentina<br>Viernes 28/6 – 16.00</p><p>Colombia vs 2° Grupo C<br>Viernes 28/6 – 20.00</p><p>1° Grupo C vs 3° Grupo A/B<br>Sábado 29/6 – 16.00</p>',
null,
NOW(),
null,
'3');

INSERT INTO `jfb_virtualmind`.`articles`
(`title`,
`short_description`,
`long_description`,
`updated_at`,
`created_at`,
`deleted_at`,
`authors_ids`)
VALUES
('Las 4 claves que llevaron a Jaguares a ser uno de los candidatos del Súper Rugby 2019',
'Hoy Jaguares jugará de local el partido más importante de su corta historia: recibirá a Chiefs por los cuartos de final. Cuáles fueron las claves que llevaron al equipo de Gonzalo Quesada a este presente',
'<p>Hace poco más de un año, los medios de comunicación destacaban de manera unánime <strong>la evolución de Jaguares</strong> -en ese entonces dirigido por Mario Ledesma, actual <i>head coach</i>de Los Pumas-, que se había clasificado por primera vez&nbsp;en su corta historia a los playoffs del Súper Rugby. Hoy este panorama no solo se repite sino que los méritos son aún mayores gracias al desembarco de <strong>Gonzalo Quesada</strong> al mando del equipo y a su impronta como entrenador.</p><p>En este&nbsp;espacio&nbsp;ya se había marcado&nbsp;cómo con los años la franquicia Argentina dejó de ser aquel equipo del 2016, que como un niño recién nacido daba sus primeros pasos en el&nbsp;certamen de clubes más importante del hemisferio sur&nbsp; y el adolescente del 2017, por momentos rebelde pero inconstante e inmaduro en cuanto a desempeños dentro de la cancha. El 2018 fue un proceso de maduración para el combinado nacional tanto por resultados como por la manera de afrontar los partidos gracias a <strong>la revolución planteada por Ledesma</strong>.</p><p>El <i>Bocha&nbsp;</i>logró mantener las principales fortalezas del plantel, como su poderío en ataque, producto de los años bajo el mando de Daniel Hourcade y Raúl Pérez, y les agregó sentido de pertenencia, poderío mental y un sistema de juego con una defensa más sólida.</p><p>Jaguares cerró la temporada pasada con una derrota de visitante ante Lions por los cuartos de final para quedar con nueve victorias y ocho caídas, tras haber terminado en la séptima posición de la tabla general con 38 puntos.</p><p>Claro que gracias al trabajo de Quesada, este año los números mejoraron exponencialmente; sólo en la primera etapa Jaguares sumó <strong>11 triunfos y apenas 5 partidos perdidos</strong> para finalizar segundo con 51 unidades, lo que le permitió ser local hoy ante Chiefs (19:05) y en caso de avanzar también lo será en las semifinales. De la única manera que el elenco de naranja dispute un duelo en condición de visitante será en una hipotética final ante Crusaders, el mejor equipo de la primera fase.</p><p><strong>¿Cuáles fueron las claves del equipo de Quesada?</strong></p><p><strong>– El sistema de juego:</strong></p><p>Una vez que se confirmó, casi en simultáneo, el ascenso de Ledesma a Los Pumas y la llegada de Quesada a Jaguares, el ex apertura se sumó al staff del ex hooker como colaborador. Allí aprovechó el tiempo con el plantel para empaparse con el plan de juego que había propuesto el <i>Bocha</i> a principios de 2018 y que luego se bajó hacia todos los equipos y seleccionados que contempla la UAR.&nbsp;Es así que Quesada adoptó el sistema que ya estaba establecido pero le agregó algunas variantes propias de su experiencia como entrenador. La idea propuesta a comienzos de la pretemporada fue&nbsp;<strong>volver a las bases del rugby argentino</strong> con la obtención de la pelota a partir de las formaciones fijas y una defensa sólida.</p><p>Uno de las modificaciones que introdujo el <i>Queso</i> fue la del <strong>juego con el pie</strong>. Siendo un especialista en la materia, perfeccionó este aspecto del juego y bajó línea de su uso, tanto en extrema defensa como en situaciones de ataque. Mucho ayudó el talento de los dos conductores del equipo <strong>Joaquín Díaz Bonilla y Domingo Miotti.</strong></p><p>Otro de los puntos que se mejoró notablemente fue la <strong>defensa</strong>, que ya venía siendo una de las banderas del ciclo Ledesma pero que esta temporada marcó una gran importancia en los partidos que afrontó la franquicia. Con <strong>Juan de la Cruz Fernández Miranda</strong> como entrenador especializado, Jaguares consiguió un 85,1% de efectividad en tackles realizados y se ubicó como el sexto mejor equipo en esta especialidad; mientras que desde lo individual <strong>Marcos Kremer</strong> fue quien más placajes con 157, el séptimo jugador de todo el Súper Rugby.</p><p><strong>– Crecimiento en las estadísticas:</strong></p><p>La contundencia de Jaguares para conseguir resultados positivos a lo largo de toda la primera fase se refleja en los números del equipo en cada uno de los aspectos del juego.</p><p>Si se toma la temporada 2018 como comparación no solo se pasó de un 82% a un 85% en efectividad de tackles -según las estadísticas de la plataforma Opta-, como se mencionó anteriormente. También hubo un crecimiento en <strong>lines</strong> (de 88% a 91%) y en los <strong>scrums</strong> (de 85% a 88%), aunque esta última formación todavía está lejos de ser la ideal.</p><p>Otro registro que se mejoró fue el de<strong> tries apoyados</strong>, fueron 60 esta temporada contra los 53 de la pasada. Lo mismo ocurrió con los<strong> tries en contra&nbsp;</strong>que pasaron de 59 a 38.</p><p><strong>– Cosecha de puntos bonus:</strong></p><p>Una de las pocas falencias que presentó el equipo en 2018 fue la obtención de los puntos bonus, tanto defensivos en sus derrotas como ofensivos en sus victorias. Solamente dos unidades consiguieron. Esto se debía a la incapacidad de mantener la intensidad hasta los últimos minutos de los partidos, por lo que resultados aumentaban en su contra o se contraían a favor de su rival.</p><p><strong>Este año no fue el caso.</strong> Los dirigidos por Quesada finalizaron con siete puntos, cinco ofensivos gracias a las goleadas ante Sharks (dos veces), Bulls, Reds y Sunwolves, y dos defensivos ante Chiefs y Highlanders.</p><p><strong>– Mismo rendimiento pese al recambio obligado:</strong></p><p>Apenas asumió en su cargo, Quesada sabía que además del resto de las franquicias que disputan el Súper Rugby iba a haber otro rival:<strong> el calendario</strong>. Al ser año del Mundial de Japón (comenzará el 20 de septiembre), el fixture del certamen en el que participa Jaguares como el de Los Pumas pasó a tener una carga mayor de partidos, por lo que el entrenador debía estar obligado a hacer un gran recambio a lo largo de la temporada para que los jugadores llegaran sin sobrecargar su físico a la cita mundialista.</p><p><i><strong>"El Mundial es un objetivo prioritario así que vamos a tratar de encontrar un equilibrio"</strong></i>, había anticipado en enero. Y así fue. El <i>head coach</i> utilizó un total de 40 jugadores en los 16 cotejos que disputó el equipo, un número importante si se tiene en cuenta el resultado obtenido.</p><p>Dicho recambio dejó la pauta de que hay una gran base de jugadores argentinos de elite con nivel para afrontar una de las competencias más importantes del mundo. Lo sorprendente es que <strong>pese a los cambios partido a partido, el nivel del equipo no mermó.</strong></p><p>Otra buena noticia es que de esos 40, un cuarto de los jugadores tuvo su debut absoluto en el Súper Rugby este año. Lucas Paulos, Rodrigo Bruni, Francisco Gorrisen, Juan Cruz Mallía, Mayco Vivas, Lucio Sordoni, Santiago Carreras, Germán Baldunciel, Domingo Miotti y el repatriado Santiago Socino hicieron su estreno con la camiseta de la franquicia. Esto es <strong>otro triunfo de las academias y el plan de alto rendimiento&nbsp;de la UAR</strong> que año a año impulsa el rugby en los jóvenes y los forma para ampliar el número de jugadores profesionales.</p><p><i>"Tenemos que seguir entrenando esa capacidad de creer en lo que estamos haciendo y que nos da resultados. No es el ruck, el scrum, el line ni la defensa: es saber que todos los lunes empezamos de cero"</i>, expresó Quesada luego de la última victoria ante Sunwolves en Vélez.</p><p>Los especialistas en la materia aseguran que las nuevas franquicias necesitan un tiempo aproximado de cinco años para adaptarse a la competencia del Súper Rugby. <strong>Jaguares lo hizo en tres y en su cuarto año se convirtió en uno de los candidatos al título.</strong></p><p>Este viernes el estadio<i> José Amalfitani</i> (se espera récord de asistencia) será el escenario en el que el elenco argentino dispute por primera vez un partido de playoffs en condición de local. El rival es nada menos que <strong>Chiefs de Nueva Zelanda</strong>, séptimo casificado de la tabla general.</p><p>Sin importar el resultado que se de cuando se cumplan los 80 minutos, el desempeño de Jaguares este año fue superlativo y deja bien parado a un grupo de jugadores que será mayoría de los que integren la lista para el Mundial. <strong>Si bien aún hay mucho por mejorar, el futuro llegó y el rugby argentino tiene presente.</strong></p>',
null,
NOW(),
null,
'1');


INSERT INTO `jfb_virtualmind`.`articles`
(`title`,
`short_description`,
`long_description`,
`updated_at`,
`created_at`,
`deleted_at`,
`authors_ids`)
VALUES
('Los Pumitas perdieron con Sudáfrica y se quedaron sin la medalla de Bronce',
'Sabor amargo sobre el final. Pero estos pibes emocionan!',
'<p>Pagó caro por sus propios errores. La falta de efectividad con el pie lo condicionó y el final no fue el que todos soñaban. Los Pumitas se despidieron de Rosario sin ofrecer su mejor versión, y así dejaron escapar una gran oportunidad, por la que trabajaron mucho, especialmente en gran parte del segundo tiempo. Sudáfrica fue clínico y oportuno y se llevó un tercer puesto con un resultado más abultado de lo que fue el desarrollo del partido, pero justo al fin.<br><strong>Todo cuesta arriba para los Pumitas</strong></p><p>Empezó mejor Sudáfrica, con dominio territorial y presión, utilizando el ancho de la cancha. No tardó mucho en quebrar el in-goal argentino. A los tres minutos marcó el primer try por medio de Nohamba, que además sumó la conversión (7-0). Para colmo de males, el debutante de Pucará, Francisco Jorge, sólo duró seis minutos, ya que sufrió un tirón y debió salir reemplazado por el mendocino Isgró.</p><p>La primera para los Pumitas fue muy clara y llevaba destino de try. Isgró no resolvió bien y se lo perdió cuando sobraban por derecha junto a Acosta Pimentel. El descuento llegó por un penal de De la Vega Mendía, que antes erró uno muy factible recto a los palos, cuando se jugaban 19 minutos (7-3).<br><strong>Un dominio infructuoso</strong></p><p>El equipo de José Pellicena de a poco entró en confianza y se hizo dueño del partido, pero fue muy desprolijo en el manejo y cometió demasiados errores. Pedemonte marcó el camino a fuerza de penetrar la primera línea defensiva de los sudafricanos. Pero una a una se fueron diluyendo las chances de anotar, especialmente después de una llegada muy clara, anulada a Carreras luego de un pase forward. La respuesta fue un nuevo penal de Nohamba y un try de Abrahams para establecer una mayor diferencia entre uno y otro (17-3). En el final otra vez se quedaron cortos los Pumitas, primero con Carreras y luego con Acosta Pimentel y no pudieron descontar.<br><strong>Salieron con todo</strong></p><p>El segundo tiempo arrancó con otra actitud. En un minuto el equipo argentino hizo lo que no pudo en los cuarenta iniciales. Try de De la Vega Mendía e increíble yerro de la conversión casi debajo de los palos (17-8). Y enseguida llegó el segundo try, con otra buena acción, esta vez bien terminada por Carreras (17-13). Pero De la Vega Mendía no estaba en su mejor tarde como pateador, falló la conversión y un nuevo penal (diez puntos probables). Y al rato ejecutó Prisciantelli que también falló su patada, pegó el tercero en el palo, y así siguieron sin sumar con el pie. Tuvo que ingresar el santiagueño Roger para quebrar la racha, y que los Pumitas se pusiera a sólo un punto cuando faltaban 20 minutos por jugarse (16-17).<br><strong>Un balde de agua fría</strong></p><p>Los Pumitas fueron más en el segundo tiempo y lo dominaron claramente por veinte minutos. Pero allí se detuvo el reloj. Un try de Sudáfrica (Abrahams) definió todo, especialmente para la cabeza de los argentinos. Otra vez tuvieron que remar con ocho tantos de diferencia (16-24), que se acrecentaron por un certero drop de Coetzer (16-27). Para colmo, los argentinos iban a seguir en una tarde de decisiones desacertadas. Penal y drop desperdiciados por Roger y knock-on del apertura del CASI para darle una nueva posesión a los visitantes. Y el golpe de knock-out llegó con el try de van der Mescht (de intercepción) y con otro de Pretorius que cerró la tarde del Hipódromo de Rosario (16-41).</p><p>Los Pumitas quedaron cuartos en el torneo, un objetivo menor del que venían a buscar. Las semifinales fueron un premio; en el balance final ganaron dos y perdieron tres. Los duelos ante Australia y Sudáfrica fueron un aprendizaje. Aunque no habrá que olvidar que este equipo es un paso previo para seguir creciendo. Como el que dieron Delguy, Kremer, Mallía, Medrano y Miotti en el equipo del 2016, Carreras y Vivas, en 2017 y Sordoni, en 2018. Ellos hoy disfrutan de Jaguares y de su clasificación a las semifinales del Súper Rugby.<br><strong>La síntesis del partido</strong><br><strong>Argentina (16)</strong>: Ignacio Mendy; Francisco Jorge, Gerónimo Prisciantelli y Mateo Carreras; Joaquín de la Vega Mendía y Gonzalo García (capitán); Bautista Pedemonte, Juan Martín González y Jerónimo Gómez Vara; Lucas Bur y Manuel Bernstein; Estanislao Carullo, Pablo Dimcheff y Thomas Gallo. <strong>Entrenador</strong>: José Pellicena.</p><p><strong>Cambios</strong>, PT: 6 minutos, Rodrigo Isgró por Jorge. ST: al inicio, Francisco Minervino por Dimcheff y Francisco Coria por Carullo; 13, Marcos Moneta por Isgró; 16, Ramiro Tallone por Bernstein y Nicolás Roger por De la Vega Mendía; 25, Juan Cruz Pérez Rachel por Gómez Vara y Joaquín Pellandini por García, y 32 Federico Parnas por Pedemonte.</p><p><strong>Suplentes</strong>: Mariano Muntaner, Francisco Calandra, Ignacio Ruiz y Julián Quetglas.</p><p><strong>Sudáfrica (41)</strong>: Vaughen Isaacs; Angelo Davids, David Kriel, Rikus Pretorius y Thaakir Abrahams; David Coetzer y Sanele Nohamba; Phendulani Buthelezi (capitán), Celimpilo Gumede y Jaco Labuschagne; Elrigh Louw y JJ van der Mescht; Asenathi Ntlabakanye, Fezokuhle Mbatha y Kudzwai Dube. <strong>Entrenador</strong>: Chean Roux.</p><p><strong>Cambios</strong>, ST: 7 minutos, Dameon Venter por Mbatha, Dylan Richardson por Gumede Caleb Dingaan por Davids; 10, Dian Bleuler por Dube y Keagan Glade por Ntlabakanye; 16, Janko Swanepoel por Low; 32, Jaden Hendrikse por Nohamba; 35, Thabiso Mdletshe por Labuschagne, y 40, David Kriel por Davids.</p><p><strong>Suplentes</strong>: Dian Bleuler, Keagan Glade, Sibusiso Sangweni, Caleb Dingaan, Marnus Potgieter, Zwelendaba Mnombo y Francke Horn.</p><p><strong>Estadio</strong>: <i>Hipódromo de Rosario</i><br><strong>Árbitro</strong>: Damon Murphy (Australia) // Asistentes: Ben Blair (Escocia) y Christopher Ridley (Inglaterra)<br><strong>TMO</strong>: Ian Smith (Australia)</p><p><strong>Los tantos del partido</strong><br><strong>Primer tiempo</strong>: 3 minutos, try de Nohamba convertido por el mismo (S); 19, penal de De la Vega Mendía (A); 27, penal de Nohamba (S); 29, try de Abrahams convertido por Nohamba (S). Resultado parcial: Argentina 3 vs. Sudáfrica 17</p><p><strong>Segundo tiempo</strong>: 1 minuto, try de De la Vega Mendía (A); 5, try de Carreras (A); 18, penal de Roger (A); 23, try de Abrahams convertido por Nohamba (S); 27, drop de Coetzer (S); 30, try de van der Mescht convertido por Nohamba (S), y 39, try de Pretorius convertido por Hendickse (S).</p>',
null,
NOW(),
null,
'3');


-- Relaciones entre authors y articles
INSERT INTO `jfb_virtualmind`.`authors_has_articles`
(`author_id`,
`article_id`)
VALUES
(1,
1);

INSERT INTO `jfb_virtualmind`.`authors_has_articles`
(`author_id`,
`article_id`)
VALUES
(2,
1);

INSERT INTO `jfb_virtualmind`.`authors_has_articles`
(`author_id`,
`article_id`)
VALUES
(3,
2);

INSERT INTO `jfb_virtualmind`.`authors_has_articles`
(`author_id`,
`article_id`)
VALUES
(1,
3);

INSERT INTO `jfb_virtualmind`.`authors_has_articles`
(`author_id`,
`article_id`)
VALUES
(3,
4);


-----  PROCEDURES  ------

-- Add Or Edit Article Authors
DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`addOrEditArticleAuthors`(
    IN _id_article INT,
    IN _string_authors_ids VARCHAR(150)
)
BEGIN
    
    SET @number_of_authors = (SELECT CHAR_LENGTH(_string_authors_ids) - CHAR_LENGTH(REPLACE(_string_authors_ids, ',', ''))) + 1;
        
	SET @init = 1;

    DELETE FROM `jfb_virtualmind`.`authors_has_articles` WHERE `article_id` = _id_article;
	
    WHILE @init <= @number_of_authors DO
		
        SET @author_id = (SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(_string_authors_ids, ',', @init), ',', -1));

        INSERT INTO `jfb_virtualmind`.`authors_has_articles`
            (`author_id`,
            `article_id`)
        VALUES
            (@author_id,
            _id_article);
        
        SET @init = @init + 1;
	END WHILE;
 
END $;

-- Add Or Edit Article

DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`addOrEditArticle` (
	IN _id INT,
    IN _title VARCHAR(1000),
    IN _short_description TINYTEXT,
    IN _long_description LONGTEXT,
    IN _string_authors_ids VARCHAR(1000)
)
BEGIN 
    
	IF _id = 0 THEN
		INSERT INTO `jfb_virtualmind`.`articles` 
			(title, 
            short_description, 
            long_description, 
            updated_at,
            created_at,
            deleted_at,
            authors_ids
            )
		VALUES 
			(_title,
            _short_description,
            _long_description,
            null,
            NOW(),
            null,
            _string_authors_ids);
		SET _id = LAST_INSERT_ID();
		
        CALL `jfb_virtualmind`.`addOrEditArticleAuthors`(_id, _string_authors_ids); 

        SELECT _id;

	ELSE
		UPDATE `jfb_virtualmind`.`articles`
        SET
			title = _title,
            short_description = _short_description,
            long_description = _long_description,
            updated_at = NOW(),
            authors_ids = _string_authors_ids
		WHERE
			id = _id;

        CALL `jfb_virtualmind`.`addOrEditArticleAuthors`(_id, _string_authors_ids); 
	END IF; 
END $;

-- Get Articles By Authors Ids

DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`getArticleByAuthorIds` (
    IN _string_authors_ids VARCHAR(150)
)
BEGIN 
    SELECT * FROM `jfb_virtualmind`.`articles` WHERE id IN (
        SELECT DISTINCT article_id FROM `jfb_virtualmind`.`authors_has_articles`
        WHERE author_id IN (_string_authors_ids)
    ) AND deleted_at IS NULL;
END $;

-- Get Articles By Id

DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`getArticleById` (
    IN _id INT
)
BEGIN 
    SELECT * FROM `jfb_virtualmind`.`articles` 
    WHERE id = _id AND deleted_at IS NULL;
END $;


-- Get All Articles

DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`getAllArticles` ()
BEGIN 
    SELECT * FROM `jfb_virtualmind`.`articles` 
    WHERE deleted_at IS NULL;
END $;

-- Delete an Article

DELIMITER $
CREATE PROCEDURE `jfb_virtualmind`.`deleteArticle` (
	IN _id INT
)
BEGIN 
    
	UPDATE `jfb_virtualmind`.`articles`
        SET
            deleted_at = NOW()
		WHERE
			id = _id;

END $;

